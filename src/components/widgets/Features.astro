---
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';
import ItemGrid from '~/components/ui/ItemGrid.astro';
import Headline from '~/components/ui/Headline.astro';
import GeometricBackground from '~/components/ui/GeometricBackground.astro';
import type { Features as Props } from '~/types';

const {
  title = await Astro.slots.render('title'),
  subtitle = await Astro.slots.render('subtitle'),
  tagline = await Astro.slots.render('tagline'),
  items = [],
  columns = 2,

  defaultIcon,

  id,
  isDark = false,
  classes = {},
  bg = await Astro.slots.render('bg'),
} = Astro.props;
---

<WidgetWrapper id={id} isDark={isDark} containerClass={`max-w-6xl ${classes?.container ?? ''}`} bg={bg}>
  <GeometricBackground variant="minimal" />
  
  <div class="relative">
    <Headline 
      title={title} 
      subtitle={subtitle} 
      tagline={tagline} 
      classes={{
        container: 'mb-10 md:mb-14',
        title: 'font-display font-semibold text-3xl md:text-4xl text-ink dark:text-white tracking-tight',
        subtitle: 'text-lg text-ink-secondary dark:text-zinc-400 max-w-3xl mx-auto',
        ...((classes?.headline as Record<string, string>) ?? {}),
      }}
    />
    
    <ItemGrid
      items={items}
      columns={columns}
      defaultIcon={defaultIcon}
      classes={{
        container: 'gap-6 md:gap-8',
        panel: 'bg-white dark:bg-zinc-900 rounded-2xl p-6 md:p-8 border border-zinc-200/60 dark:border-zinc-800/60 hover:shadow-elegant-lg hover:-translate-y-1 transition-all duration-300',
        title: 'font-heading font-semibold text-xl text-ink dark:text-white',
        description: 'text-ink-secondary dark:text-zinc-400 mt-2',
        icon: 'w-12 h-12 p-3 rounded-xl bg-accent/10 text-accent mr-4',
        ...((classes?.items as Record<string, string>) ?? {}),
      }}
    />
  </div>
</WidgetWrapper>
